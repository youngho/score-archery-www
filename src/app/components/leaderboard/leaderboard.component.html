<!-- íˆì–´ë¡œ ì„¹ì…˜ -->
<section id="home" class="hero">
  <div class="hero-content">
    <h1>ğŸ† ê¸€ë¡œë²Œ ë¦¬ë”ë³´ë“œ</h1>
    <p>ìµœê³ ì˜ í™œì˜ê¸° ì‹¤ë ¥ì„ ì¦ëª…í•˜ì„¸ìš”! ë‹¹ì‹ ì˜ ìˆœìœ„ëŠ”?</p>
    <div class="app-buttons">
      <a href="#" class="app-btn">
        <span>ğŸ</span>
        <div>
          <div style="font-size: 0.7rem">Download on the</div>
          <div>App Store</div>
        </div>
      </a>
      <a href="#" class="app-btn">
        <span>â–¶ï¸</span>
        <div>
          <div style="font-size: 0.7rem">GET IT ON</div>
          <div>Google Play</div>
        </div>
      </a>
    </div>
  </div>
</section>

<!-- ë¦¬ë”ë³´ë“œ íƒ­ ë©”ë‰´ -->
<section class="leaderboard-tabs" aria-label="ë¦¬ë”ë³´ë“œ íƒ­ ë©”ë‰´">
  <div class="tab-buttons" role="tablist" aria-label="ë¦¬ë”ë³´ë“œ ê¸°ê°„ ì„ íƒ">
    <button
      type="button"
      class="tab-btn"
      role="tab"
      [attr.aria-selected]="activeTab === 'alltime'"
      [attr.aria-controls]="'alltime-panel'"
      [id]="'alltime-tab'"
      (click)="setActiveTab('alltime')"
      [class.active]="activeTab === 'alltime'"
    >
      <span aria-hidden="true">ğŸ†</span> ëˆ„ì ì ìˆ˜
    </button>
    <button
      type="button"
      class="tab-btn"
      role="tab"
      [attr.aria-selected]="activeTab === 'monthly'"
      [attr.aria-controls]="'monthly-panel'"
      [id]="'monthly-tab'"
      (click)="setActiveTab('monthly')"
      [class.active]="activeTab === 'monthly'"
    >
      <span aria-hidden="true">ğŸ“…</span> ì›”ê°„ì ìˆ˜
    </button>
    <button
      type="button"
      class="tab-btn"
      role="tab"
      [attr.aria-selected]="activeTab === 'weekly'"
      [attr.aria-controls]="'weekly-panel'"
      [id]="'weekly-tab'"
      (click)="setActiveTab('weekly')"
      [class.active]="activeTab === 'weekly'"
    >
      <span aria-hidden="true">ğŸ“Š</span> ì£¼ê°„ì ìˆ˜
    </button>
    <button
      type="button"
      class="tab-btn"
      role="tab"
      [attr.aria-selected]="activeTab === 'daily'"
      [attr.aria-controls]="'daily-panel'"
      [id]="'daily-tab'"
      (click)="setActiveTab('daily')"
      [class.active]="activeTab === 'daily'"
    >
      <span aria-hidden="true">âš¡</span> ì¼ê°„ì ìˆ˜
    </button>
  </div>
</section>

<!-- ë¦¬ë”ë³´ë“œ ì„¹ì…˜ -->
<section id="leaderboard" class="leaderboard" aria-labelledby="leaderboard-heading">
  <!-- ëˆ„ì ì ìˆ˜ íƒ­ -->
  <div
    class="leaderboard-content"
    *ngIf="activeTab === 'alltime'"
    role="tabpanel"
    [attr.aria-labelledby]="'alltime-tab'"
    [id]="'alltime-panel'"
  >
    <h2 class="section-title" id="leaderboard-heading">
      <span aria-hidden="true">ğŸ†</span> ëˆ„ì ì ìˆ˜ ë¦¬ë”ë³´ë“œ
    </h2>
    <p class="section-subtitle">ê²Œì„ ì˜¤í”ˆë¶€í„° í˜„ì¬ê¹Œì§€ì˜ ì´ ëˆ„ì  ì ìˆ˜</p>
    <p *ngIf="error" class="error-message" role="alert">{{ error }}</p>
    <div *ngIf="loading" class="loading-message" aria-live="polite">ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘â€¦</div>
    <div class="leaderboard-table" *ngIf="!loading && !error">
      <table role="table" aria-label="ëˆ„ì ì ìˆ˜ ë¦¬ë”ë³´ë“œ">
        <thead>
          <tr>
            <th scope="col">ìˆœìœ„</th>
            <th scope="col">í”Œë ˆì´ì–´</th>
            <th scope="col">êµ­ê°€</th>
            <th scope="col">ëˆ„ì ì ìˆ˜</th>
            <th scope="col">ë ˆë²¨</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let entry of entries" [attr.data-label]="'ìˆœìœ„ ' + entry.rank">
            <td data-label="ìˆœìœ„"><span [class]="rankClass(entry.rank)" [attr.aria-label]="entry.rank + 'ìœ„'">{{ rankLabel(entry.rank) }}</span></td>
            <td data-label="í”Œë ˆì´ì–´">
              <div class="player">
                <span class="avatar" aria-hidden="true">{{ avatarInitials(entry.playerName) }}</span>
                <span class="name">{{ entry.playerName }}</span>
              </div>
            </td>
            <td data-label="êµ­ê°€"><span class="flag" [title]="entry.country ?? ''">{{ entry.country ?? '-' }}</span></td>
            <td data-label="ëˆ„ì ì ìˆ˜">
              {{ formatScore(entry.score) }}
              <div class="score-bar" aria-hidden="true" *ngIf="entries.length"><span [style.width.%]="entry.rank === 1 ? 100 : (entry.score / (entries[0].score || 1) * 100)"></span></div>
            </td>
            <td data-label="ë ˆë²¨">{{ formatScore(entry.extra) }}</td>
          </tr>
          <tr *ngIf="entries.length === 0">
            <td colspan="5" class="empty-message">í‘œì‹œí•  ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- ì›”ê°„ì ìˆ˜ íƒ­ -->
  <div
    class="leaderboard-content"
    *ngIf="activeTab === 'monthly'"
    role="tabpanel"
    [attr.aria-labelledby]="'monthly-tab'"
    [id]="'monthly-panel'"
  >
    <h2 class="section-title"><span aria-hidden="true">ğŸ“…</span> ì›”ê°„ì ìˆ˜ ë¦¬ë”ë³´ë“œ</h2>
    <p class="section-subtitle">ì´ë²ˆ ë‹¬ ê°€ì¥ ë†’ì€ ì ìˆ˜ë¥¼ ê¸°ë¡í•œ í”Œë ˆì´ì–´ë“¤</p>
    <p *ngIf="error" class="error-message" role="alert">{{ error }}</p>
    <div *ngIf="loading" class="loading-message" aria-live="polite">ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘â€¦</div>
    <div class="leaderboard-table" *ngIf="!loading && !error">
      <table role="table" aria-label="ì›”ê°„ì ìˆ˜ ë¦¬ë”ë³´ë“œ">
        <thead>
          <tr>
            <th scope="col">ìˆœìœ„</th>
            <th scope="col">í”Œë ˆì´ì–´</th>
            <th scope="col">êµ­ê°€</th>
            <th scope="col">ì›”ê°„ì ìˆ˜</th>
            <th scope="col">ê²Œì„ìˆ˜</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let entry of entries">
            <td data-label="ìˆœìœ„"><span [class]="rankClass(entry.rank)" [attr.aria-label]="entry.rank + 'ìœ„'">{{ rankLabel(entry.rank) }}</span></td>
            <td data-label="í”Œë ˆì´ì–´">
              <div class="player">
                <span class="avatar" aria-hidden="true">{{ avatarInitials(entry.playerName) }}</span>
                <span class="name">{{ entry.playerName }}</span>
              </div>
            </td>
            <td data-label="êµ­ê°€"><span class="flag" [title]="entry.country ?? ''">{{ entry.country ?? '-' }}</span></td>
            <td data-label="ì›”ê°„ì ìˆ˜">
              {{ formatScore(entry.score) }}
              <div class="score-bar" *ngIf="entries.length"><span [style.width.%]="entry.rank === 1 ? 100 : (entry.score / (entries[0].score || 1) * 100)"></span></div>
            </td>
            <td data-label="ê²Œì„ìˆ˜">{{ formatScore(entry.extra) }}</td>
          </tr>
          <tr *ngIf="entries.length === 0">
            <td colspan="5" class="empty-message">í‘œì‹œí•  ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- ì£¼ê°„ì ìˆ˜ íƒ­ -->
  <div
    class="leaderboard-content"
    *ngIf="activeTab === 'weekly'"
    role="tabpanel"
    [attr.aria-labelledby]="'weekly-tab'"
    [id]="'weekly-panel'"
  >
    <h2 class="section-title"><span aria-hidden="true">ğŸ“Š</span> ì£¼ê°„ì ìˆ˜ ë¦¬ë”ë³´ë“œ</h2>
    <p class="section-subtitle">ì´ë²ˆ ì£¼ ìµœê³ ì˜ í™œì•½ì„ ë³´ì¸ í”Œë ˆì´ì–´ë“¤</p>
    <p *ngIf="error" class="error-message" role="alert">{{ error }}</p>
    <div *ngIf="loading" class="loading-message" aria-live="polite">ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘â€¦</div>
    <div class="leaderboard-table" *ngIf="!loading && !error">
      <table role="table" aria-label="ì£¼ê°„ì ìˆ˜ ë¦¬ë”ë³´ë“œ">
        <thead>
          <tr>
            <th scope="col">ìˆœìœ„</th>
            <th scope="col">í”Œë ˆì´ì–´</th>
            <th scope="col">êµ­ê°€</th>
            <th scope="col">ì£¼ê°„ì ìˆ˜</th>
            <th scope="col">í‰ê· ì ìˆ˜</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let entry of entries">
            <td data-label="ìˆœìœ„"><span [class]="rankClass(entry.rank)" [attr.aria-label]="entry.rank + 'ìœ„'">{{ rankLabel(entry.rank) }}</span></td>
            <td data-label="í”Œë ˆì´ì–´">
              <div class="player">
                <span class="avatar" aria-hidden="true">{{ avatarInitials(entry.playerName) }}</span>
                <span class="name">{{ entry.playerName }}</span>
              </div>
            </td>
            <td data-label="êµ­ê°€"><span class="flag" [title]="entry.country ?? ''">{{ entry.country ?? '-' }}</span></td>
            <td data-label="ì£¼ê°„ì ìˆ˜">
              {{ formatScore(entry.score) }}
              <div class="score-bar" *ngIf="entries.length"><span [style.width.%]="entry.rank === 1 ? 100 : (entry.score / (entries[0].score || 1) * 100)"></span></div>
            </td>
            <td data-label="í‰ê· ì ìˆ˜">{{ formatScore(entry.extra) }}</td>
          </tr>
          <tr *ngIf="entries.length === 0">
            <td colspan="5" class="empty-message">í‘œì‹œí•  ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- ì¼ê°„ì ìˆ˜ íƒ­ -->
  <div
    class="leaderboard-content"
    *ngIf="activeTab === 'daily'"
    role="tabpanel"
    [attr.aria-labelledby]="'daily-tab'"
    [id]="'daily-panel'"
  >
    <h2 class="section-title"><span aria-hidden="true">âš¡</span> ì¼ê°„ì ìˆ˜ ë¦¬ë”ë³´ë“œ</h2>
    <p class="section-subtitle">ì˜¤ëŠ˜ ê°€ì¥ ëœ¨ê±°ìš´ í™œì˜ê¸° ì‹¤ë ¥ìë“¤</p>
    <p *ngIf="error" class="error-message" role="alert">{{ error }}</p>
    <div *ngIf="loading" class="loading-message" aria-live="polite">ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘â€¦</div>
    <div class="leaderboard-table" *ngIf="!loading && !error">
      <table role="table" aria-label="ì¼ê°„ì ìˆ˜ ë¦¬ë”ë³´ë“œ">
        <thead>
          <tr>
            <th scope="col">ìˆœìœ„</th>
            <th scope="col">í”Œë ˆì´ì–´</th>
            <th scope="col">êµ­ê°€</th>
            <th scope="col">ì¼ê°„ì ìˆ˜</th>
            <th scope="col">ìµœê³ ì ìˆ˜</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let entry of entries">
            <td data-label="ìˆœìœ„"><span [class]="rankClass(entry.rank)" [attr.aria-label]="entry.rank + 'ìœ„'">{{ rankLabel(entry.rank) }}</span></td>
            <td data-label="í”Œë ˆì´ì–´">
              <div class="player">
                <span class="avatar" aria-hidden="true">{{ avatarInitials(entry.playerName) }}</span>
                <span class="name">{{ entry.playerName }}</span>
              </div>
            </td>
            <td data-label="êµ­ê°€"><span class="flag" [title]="entry.country ?? ''">{{ entry.country ?? '-' }}</span></td>
            <td data-label="ì¼ê°„ì ìˆ˜">
              {{ formatScore(entry.score) }}
              <div class="score-bar" *ngIf="entries.length"><span [style.width.%]="entry.rank === 1 ? 100 : (entry.score / (entries[0].score || 1) * 100)"></span></div>
            </td>
            <td data-label="ìµœê³ ì ìˆ˜">{{ formatScore(entry.extra) }}</td>
          </tr>
          <tr *ngIf="entries.length === 0">
            <td colspan="5" class="empty-message">í‘œì‹œí•  ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</section>
